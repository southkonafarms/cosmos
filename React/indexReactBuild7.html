<!DOCTYPE html>

<html>
<head>
<title>React WTF</title>
<script src="../js/react.development.js" crossorigin></script>
<script src="../js/react-dom.development.js" crossorigin></script>
</head>
<body>
	<div id="root"></div>

	<script>
            window.onload = function()
      /*0*/      {
            	class NameForm extends React.Component {  /*1*/
            		  constructor(props) { /*2*/
            		    super(props);
            		    this.state = { /*3*/
            		      uDim: '',
            		      submitted: false
            		    }; /*3*/
            		    this.handleChange = this.handleChange.bind(this);
            		    this.handleSubmit = this.handleSubmit.bind(this);
            		  } /*2*/

            		  handleChange(event) { /*2 */
            		    const regexpr = /^[0-9\b]+$/;

            		    if (event.target.value === '' || regexpr.test(event.target.value)) { /* 3 */
            		      this.setState({ /* 4 */
            		       uDim: event.target.value
            		      }); /* 4 */
            		    } /* 3 */
            		  } /* 2 */

            		  handleSubmit(event) { /* 2 */
            		    event.preventDefault();
            		    const { /* 3 */
            		      value
            		    } = this.state; /* 3 */
            		    alert('U dimension was submitted: ' + this.state.uDim);
            		    this.setState({ /* 3 */
            		      submitted: true
            		    }); /* 3 */
            		  } /* 2 */
            		  
            		  render() { /* 2 */
            				    return this.state.submitted ? /*#__PURE__*/React.createElement(NameProcess, { /* 3 */
            				      value: this.state.uDim
            				    }) : 
            				    	 /*#__PURE__*/React.createElement("form", { /* 3 */ /* 3 */ 
            				           onSubmit: this.handleSubmit
            				    }, 
            				    /*#__PURE__*/React.createElement("label", null, "U Dimension:"), /*#__PURE__*/React.createElement("input", { /* 3 */ /* 3 */ 
            				      type: "text",
            				      value: this.state.uDim,
            				      onChange: this.handleChange
            				    }), 
            				    /*#__PURE__*/React.createElement("input", { /* 3 */ /* 3 */ 
            				      type: "submit",
            				      value: "Submit"
            				    })); /* 3 */ 
            				  } /* 2 */
            		  } /* 1 */
            		  
            		  class NameProcess extends React.Component {  /*1*/
                		  constructor(props) { /*2*/
                		    super(props);
                		    this.state = { /*3*/
                		    	  uDim: this.props.value,
                      		      vDim: '',
                      		      submitted: false
                      		    }; /*3*/
                      		    this.handleChange = this.handleChange.bind(this);
                      		    this.handleSubmit = this.handleSubmit.bind(this);
                  		  } /*2*/

                		  handleChange(event) { /*2 */
                  		    const regexpr = /^[0-9\b]+$/;

                  		    if (event.target.value === '' || regexpr.test(event.target.value)) { /* 3 */
                  		      this.setState({ /* 4 */
                  		       vDim: event.target.value
                  		      }); /* 4 */
                  		    } /* 3 */
                  		  } /* 2 */

                  		  handleSubmit(event) { /* 2 */
                  		    event.preventDefault();
                  		    const { /* 3 */
                  		      value
                  		    } = this.state; /* 3 */
                  		    alert('V dimension was submitted: ' + this.state.vDim);
                  		    this.setState({ /* 3 */
                  		      submitted: true
                  		    }); /* 3 */
                  		  } /* 2 */
                  		  
						  render(){ /* 2 */
          				    return this.state.submitted ? /*#__PURE__*/React.createElement(AjaxProcess, { /* 3 */
          				      value: this.state.uDim + ':' +this.state.vDim
          				    }) : 
          				    	 /*#__PURE__*/React.createElement("form", { /* 3 */ /* 3 */ 
          				           onSubmit: this.handleSubmit
          				    }, 
          				    /*#__PURE__*/React.createElement("label", null, "V Dimension:"), /*#__PURE__*/React.createElement("input", { /* 3 */ /* 3 */ 
          				      type: "text",
          				      value: this.state.vDim,
          				      onChange: this.handleChange
          				    }), 
          				    /*#__PURE__*/React.createElement("input", { /* 3 */ /* 3 */ 
          				      type: "submit",
          				      value: "Submit"
          				    })); /* 3 */ 
          				  } /* 2 */
                   	  } /* 1 */
                   	  
                   	  class AjaxProcess extends React.Component {  /*1*/
                   		  
                   		constructor(props) { /*2*/
                   		 super(props);
                   		this.state = { /*3*/
              		    	theProps: this.props.value,
              		        error: null,
              		      	isLoaded: false,
              		      	items: [],
              		      	dims: this.props.value.split(':')
						    }; /*3*/
                   	    } /* 2 */
                   	    
                   	 componentDidMount() { /* 2 */
                   	    fetch("http://www.localhost:8080/johntredden-1.0/userDesignatedSystem.html?udimension=" + this.state.dims[0] + "&vdimension="+ this.state.dims[1]).then(res => res.json()).then(result => { /* 3 */
                   	      this.setState({  /* 4 */
                   	        isLoaded: true,
                   	        items: result.items
                   	      });  /* 4 */
                   	   	  alert("items:"+ result);
                   	    }, /* 3 */
                   	    // Note: it's important to handle errors here
                   	    // instead of a catch() block so that we don't swallow
                   	    // exceptions from actual bugs in components.
                   	    error => { /* 3 */
                   	      this.setState({ /* 4 */
                   	        isLoaded: true,
                   	        error
                   	      }); /* 4 */
                   	    }); /* 3 */
                   	  } /* 2 */
                   		
                   	    render(){ /* 2 */
                   			alert('combined props: ' + this.state.theProps);
                   			const {
                   		      error,
                   		      isLoaded,
                   		      items
                   		    } = this.state;

                   		    if (error) {
                   		      return /*#__PURE__*/React.createElement("div", null, "Error: ", error.message);
                   		    } else if (!isLoaded) {
                   		      return /*#__PURE__*/React.createElement("div", null, "Loading...");
                   		    } else {
                   		    	return 'Udim:' + this.state.dims[0] + ' Vdim:' + this.state.dims[1] + " items:" + this.state.items;
                   		    }
                   	    		
                   	    }
                   	  } /* 1 */

            	ReactDOM.render( /*#__PURE__*/React.createElement(NameForm, null), document.getElementById('root'));           	
            	} /* 0 */
            
        </script>
</body>
</html>